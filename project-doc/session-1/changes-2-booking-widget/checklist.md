# Чек-лист: changes-2-booking-widget

**Дата:** 2026-02-10
**Проверяет:** Developer (после реализации)

---

## Проверка кода

- [ ] **T-001** `npm run build` — frontend без ошибок
- [ ] **T-002** `npx tsc --noEmit` — типы корректны
- [ ] **T-003** Нет отладочного кода
- [ ] **T-004** Компоненты используют Svelte 5 руны ($state, $derived)
- [ ] **T-005** Код соответствует стилю проекта

---

## TWA виджет (на главной)

> **Суть:** Виджет на главной TWA под сторисами. Mobile-first.

- [ ] **F-001** Виден блок бронирования под сторисами | CRITICAL
- [ ] **F-002** Dark racing theme: чёрный фон, красные акценты | HIGH
- [ ] **F-003** Вписывается в существующий дизайн TWA | HIGH

### Шаг 1: Календарь

- [ ] **F-010** Календарь отображается с текущим месяцем | HIGH
- [ ] **F-011** Индикация загруженности (цветные точки) | MEDIUM
- [ ] **F-012** Прошедшие даты неактивны | HIGH
- [ ] **F-013** Навигация на 3 месяца вперёд | MEDIUM
- [ ] **F-014** Клик на дату → шаг 2 | CRITICAL

### Шаг 2: Слоты

- [ ] **F-020** Toggle: Взрослые / Дети | HIGH
- [ ] **F-021** Сетка слотов с кол-вом мест | CRITICAL
- [ ] **F-022** Занятые слоты disabled | HIGH
- [ ] **F-023** Клик на слот → шаг 3 | CRITICAL

### Шаг 3: Детали

- [ ] **F-030** Выбор длительности (10/15/20) | HIGH
- [ ] **F-031** Counter участников (ограничен местами) | CRITICAL
- [ ] **F-032** Поля: имя + телефон (обязательные) | HIGH
- [ ] **F-033** Маска телефона +7 | MEDIUM
- [ ] **F-034** Чекбоксы правил и смещения | MEDIUM
- [ ] **F-035** Расчёт стоимости | HIGH
- [ ] **F-036** Валидация обязательных полей | HIGH

### Шаг 4-5: Подтверждение и успех

- [ ] **F-040** Сводка бронирования | HIGH
- [ ] **F-041** Кнопка подтверждения → создание | CRITICAL
- [ ] **F-042** Экран успеха с номером брони | HIGH
- [ ] **F-043** Слот обновляет свободные места | CRITICAL

---

## Standalone виджет

- [ ] **S-001** Страница /booking открывается | CRITICAL
- [ ] **S-002** Полный flow работает | CRITICAL
- [ ] **S-003** Нет зависимости от Telegram SDK | CRITICAL
- [ ] **S-004** Dark theme | HIGH
- [ ] **S-005** Адаптивность: mobile + desktop | HIGH
- [ ] **S-006** Iframe-встраивание работает | HIGH

---

## Навигация виджета

- [ ] **N-001** Индикатор шагов (1-2-3-4-5) | MEDIUM
- [ ] **N-002** Кнопка "Назад" на каждом шаге | HIGH
- [ ] **N-003** Состояние сохраняется при навигации назад | HIGH
- [ ] **N-004** Анимация переходов | LOW

---

## Edge Cases

- [ ] **E-001** Loading state при загрузке слотов | MEDIUM
- [ ] **E-002** Ошибка API — понятное сообщение | HIGH
- [ ] **E-003** Слот заполнился пока заполнял форму — ошибка с объяснением | HIGH
- [ ] **E-004** Нет слотов на дату — сообщение | MEDIUM
