# –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç–∞–≤–∫–æ–π

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 21.12.2024
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

---

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç–∞–≤–∫–æ–π —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º –ø—Ä–∞–π—Å–∏–Ω–≥–æ–º –Ω–∞ –±–∞–∑–µ –Ω–∞—Å–µ–ª–µ–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤.

### –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- YAML —Ñ–∞–π–ª: `/mnt/c/dev/granat/–†–∞–π–æ–Ω—ã –¥–æ—Å—Ç–∞–≤–∫–∏/delivery-price.yml`
- ~280 –Ω–∞—Å–µ–ª–µ–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞: `destination` (–Ω–∞–∑–≤–∞–Ω–∏–µ) + `price_from_zelenogradskaya` (—Ü–µ–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∏)
- –î–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω: 150‚ÇΩ - 5000‚ÇΩ

---

## üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è —á–∞—Å—Ç—å (Frontend - –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞)

**–§–∞–π–ª:** `/frontend-sveltekit/src/routes/checkout/+page.svelte`

#### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–µ –¥–æ—Å—Ç–∞–≤–∫–∏:

1. **–ü–æ–ª–µ –≤—ã–±–æ—Ä–∞ –≥–æ—Ä–æ–¥–∞** (–∑–∞–º–µ–Ω–∏—Ç—å —Å—Ç—Ä–æ–∫–∏ 257-264):
   - –£–¥–∞–ª–∏—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–π input `<input type="text" id="city">`
   - –°–æ–∑–¥–∞—Ç—å autocomplete select (combobox)
   - –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
     - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤—Å–µ –≥–æ—Ä–æ–¥–∞ –≤ –≤—ã–ø–∞–¥–∞—é—â–µ–º —Å–ø–∏—Å–∫–µ
     - –ü–æ–∏—Å–∫ –ø—Ä–∏ –≤–≤–æ–¥–µ: —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ –ø–µ—Ä–≤—ã–º –±—É–∫–≤–∞–º
     - –í—ã–±—Ä–∞—Ç—å –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –∏–∑ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤
     - Placeholder: "–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ..."

2. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –¥–æ—Å—Ç–∞–≤–∫–∏**:
   - –ü–æ–∑–∏—Ü–∏—è: —Å—Ä–∞–∑—É –ø–æ–¥ –ø–æ–ª–µ–º –≤—ã–±–æ—Ä–∞ –≥–æ—Ä–æ–¥–∞
   - –§–æ—Ä–º–∞—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:
     ```
     üöö –°—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏: 500 ‚ÇΩ
     ```
     –∏–ª–∏
     ```
     ‚úÖ –î–æ—Å—Ç–∞–≤–∫–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ (–∑–∞–∫–∞–∑ –æ—Ç 3000 ‚ÇΩ)
     ```
   - –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏:
     - –í—ã–±–æ—Ä–µ –≥–æ—Ä–æ–¥–∞
     - –ò–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—É–º–º—ã –∑–∞–∫–∞–∑–∞ (–µ—Å–ª–∏ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –ø–æ—Ä–æ–≥ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏)

3. **–†–∞—Å—á–µ—Ç –∏—Ç–æ–≥–æ–≤–æ–π —Å—É–º–º—ã**:
   - –í —Å–µ–∫—Ü–∏–∏ "–ò—Ç–æ–≥–æ –ø–æ –∑–∞–∫–∞–∑—É" (—Å—Ç—Ä–æ–∫–∏ 356-390):
     - –°—Ç—Ä–æ–∫–∞ "–°—É–º–º–∞" - –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
     - –°—Ç—Ä–æ–∫–∞ "–î–æ—Å—Ç–∞–≤–∫–∞":
       - –ï—Å–ª–∏ –±–µ—Å–ø–ª–∞—Ç–Ω–æ: `<span class="free">–ë–µ—Å–ø–ª–∞—Ç–Ω–æ</span>`
       - –ï—Å–ª–∏ –ø–ª–∞—Ç–Ω–æ: `<span>500 ‚ÇΩ</span>`
     - –°—Ç—Ä–æ–∫–∞ "–ò—Ç–æ–≥–æ": —Å—É–º–º–∞ —Ç–æ–≤–∞—Ä–æ–≤ + —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏

4. **–õ–æ–≥–∏–∫–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏**:
   ```typescript
   // –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø—Ä–æ–≤–µ—Ä–æ–∫:
   // 1. –ï—Å–ª–∏ —Å–∞–º–æ–≤—ã–≤–æ–∑ ‚Üí 0 ‚ÇΩ
   // 2. –ï—Å–ª–∏ deliveryType === 'delivery' && selectedCity:
   //    –∞) –ï—Å–ª–∏ subtotal >= freeDeliveryThreshold ‚Üí 0 ‚ÇΩ
   //    –±) –ò–Ω–∞—á–µ ‚Üí price –∏–∑ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞
   // 3. –ï—Å–ª–∏ –≥–æ—Ä–æ–¥ –Ω–µ –≤—ã–±—Ä–∞–Ω ‚Üí 0 ‚ÇΩ (–∏–ª–∏ –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ)
   ```

#### –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã:
- –ü–æ–ª–µ "–ì–æ—Ä–æ–¥" —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –¥–æ—Å—Ç–∞–≤–∫–∏
- –ù–µ–ª—å–∑—è –æ—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑ –±–µ–∑ –≤—ã–±–æ—Ä–∞ –≥–æ—Ä–æ–¥–∞ (–µ—Å–ª–∏ –¥–æ—Å—Ç–∞–≤–∫–∞)

#### API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:
- –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å –≤ –∑–∞–∫–∞–∑–µ:
  ```typescript
  {
    deliveryCity: string,           // –ù–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞
    deliveryLocationId: number,     // ID –∏–∑ –±–∞–∑—ã
    deliveryCost: number            // –†–∞—Å—Å—á–∏—Ç–∞–Ω–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å
  }
  ```

---

### 2. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å (Admin)

**–ù–æ–≤—ã–π —Ä–∞–∑–¥–µ–ª:** `/frontend-sveltekit/src/routes/(admin)/delivery/`

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤:
```
(admin)/delivery/
‚îú‚îÄ‚îÄ +page.svelte          # –°–ø–∏—Å–æ–∫ –≥–æ—Ä–æ–¥–æ–≤ —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
‚îú‚îÄ‚îÄ +page.server.ts       # –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
‚îî‚îÄ‚îÄ components/
    ‚îú‚îÄ‚îÄ LocationsTable.svelte      # –¢–∞–±–ª–∏—Ü–∞ –≥–æ—Ä–æ–¥–æ–≤
    ‚îú‚îÄ‚îÄ LocationEditModal.svelte   # –ú–æ–¥–∞–ª–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
    ‚îî‚îÄ‚îÄ LocationAddModal.svelte    # –ú–æ–¥–∞–ª–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
```

#### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Å—Ç—Ä–∞–Ω–∏—Ü—ã:

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ—Å—Ç–∞–≤–∫–∏** (–≤–µ—Ä—Ö–Ω–∏–π –±–ª–æ–∫):
   - –ü–æ–ª–µ: "–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –æ—Ç X ‚ÇΩ"
     - Input type="number"
     - Placeholder: "3000"
     - –ü–æ–¥—Å–∫–∞–∑–∫–∞: "–ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ, –¥–æ—Å—Ç–∞–≤–∫–∞ –≤—Å–µ–≥–¥–∞ –ø–ª–∞—Ç–Ω–∞—è"
   - –ö–Ω–æ–ø–∫–∞: "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏"
   - API: `PUT /api/admin/delivery/settings`

2. **–¢–∞–±–ª–∏—Ü–∞ –≥–æ—Ä–æ–¥–æ–≤**:

   | –ù–∞–∑–≤–∞–Ω–∏–µ | –¶–µ–Ω–∞ | –°—Ç–∞—Ç—É—Å | –î–µ–π—Å—Ç–≤–∏—è |
   |----------|------|--------|----------|
   | –ü—É—à–∫–∏–Ω–æ (—Ü–µ–Ω—Ç—Ä) | 700 ‚ÇΩ | ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω | ‚úèÔ∏è üóëÔ∏è |
   | –ú—ã—Ç–∏—â–∏ (—Å—Ç–∞–Ω—Ü–∏—è) | 1000 ‚ÇΩ | ‚ùå –û—Ç–∫–ª—é—á–µ–Ω | ‚úèÔ∏è üóëÔ∏è |

   - –ö–æ–ª–æ–Ω–∫–∞ "–°—Ç–∞—Ç—É—Å":
     - Toggle switch (–≤–∫–ª/–≤—ã–∫–ª)
     - –°–µ—Ä—ã–π —Ü–≤–µ—Ç –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–Ω—ã—Ö
   - –ö–æ–ª–æ–Ω–∫–∞ "–î–µ–π—Å—Ç–≤–∏—è":
     - ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å (–æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª–∫—É)
     - üóëÔ∏è –£–¥–∞–ª–∏—Ç—å (—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º)

3. **–ö–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å –≥–æ—Ä–æ–¥"**:
   - –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª–∫—É –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
   - –ü–æ–ª—è:
     - –ù–∞–∑–≤–∞–Ω–∏–µ (required)
     - –¶–µ–Ω–∞ (required, min: 0)
     - –°—Ç–∞—Ç—É—Å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: –≤–∫–ª—é—á–µ–Ω)

4. **–ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è**:
   - –ü–æ–ª–µ –ø–æ–∏—Å–∫–∞ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –≥–æ—Ä–æ–¥–∞
   - –§–∏–ª—å—Ç—Ä: "–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–∫–ª—é—á–µ–Ω–Ω—ã–µ"
   - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é / –ø–æ —Ü–µ–Ω–µ

5. **–ü–∞–≥–∏–Ω–∞—Ü–∏—è**:
   - 50 –≥–æ—Ä–æ–¥–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
   - –ù–∞–≤–∏–≥–∞—Ü–∏—è: ‚Üê 1 2 3 ... ‚Üí

#### –ú–æ–¥–∞–ª–∫–∏:

**–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞:**
```svelte
<Modal title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Å–µ–ª–µ–Ω–Ω—ã–π –ø—É–Ω–∫—Ç">
  <Input label="–ù–∞–∑–≤–∞–Ω–∏–µ" bind:value={destination} />
  <Input label="–¶–µ–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ (‚ÇΩ)" type="number" bind:value={price} />
  <Toggle label="–î–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –∑–∞–∫–∞–∑–æ–≤" bind:checked={enabled} />

  <Button primary onclick={handleSave}>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</Button>
  <Button secondary onclick={handleCancel}>–û—Ç–º–µ–Ω–∞</Button>
</Modal>
```

**–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞:**
```svelte
<Modal title="–î–æ–±–∞–≤–∏—Ç—å –Ω–∞—Å–µ–ª–µ–Ω–Ω—ã–π –ø—É–Ω–∫—Ç">
  <Input label="–ù–∞–∑–≤–∞–Ω–∏–µ" bind:value={destination} placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –•–∏–º–∫–∏" />
  <Input label="–¶–µ–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ (‚ÇΩ)" type="number" bind:value={price} placeholder="1500" />
  <Toggle label="–î–æ—Å—Ç—É–ø–µ–Ω —Å—Ä–∞–∑—É" bind:checked={enabled} checked />

  <Button primary onclick={handleCreate}>–î–æ–±–∞–≤–∏—Ç—å</Button>
  <Button secondary onclick={handleCancel}>–û—Ç–º–µ–Ω–∞</Button>
</Modal>
```

**–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è:**
```svelte
<Modal title="–£–¥–∞–ª–∏—Ç—å –Ω–∞—Å–µ–ª–µ–Ω–Ω—ã–π –ø—É–Ω–∫—Ç?">
  <p>–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å <strong>{destination}</strong>?</p>
  <p class="warning">–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.</p>

  <Button danger onclick={handleDelete}>–£–¥–∞–ª–∏—Ç—å</Button>
  <Button secondary onclick={handleCancel}>–û—Ç–º–µ–Ω–∞</Button>
</Modal>
```

---

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –ù–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞: `delivery_locations`

```sql
CREATE TABLE delivery_locations (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    destination TEXT NOT NULL UNIQUE,
    price INTEGER NOT NULL,
    enabled BOOLEAN NOT NULL DEFAULT 1,
    created_at TEXT NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_at TEXT NOT NULL DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_delivery_locations_enabled ON delivery_locations(enabled);
CREATE INDEX idx_delivery_locations_destination ON delivery_locations(destination);
```

**–ü–æ–ª—è:**
- `id` - –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á
- `destination` - –Ω–∞–∑–≤–∞–Ω–∏–µ –Ω–∞—Å–µ–ª–µ–Ω–Ω–æ–≥–æ –ø—É–Ω–∫—Ç–∞ (—É–Ω–∏–∫–∞–ª—å–Ω–æ–µ)
- `price` - —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏ –≤ —Ä—É–±–ª—è—Ö (—Ü–µ–ª–æ–µ —á–∏—Å–ª–æ)
- `enabled` - –≤–∫–ª—é—á–µ–Ω/–≤—ã–∫–ª—é—á–µ–Ω (1/0)
- `created_at` - –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- `updated_at` - –¥–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã `shop_settings`

```sql
ALTER TABLE shop_settings
ADD COLUMN free_delivery_threshold INTEGER DEFAULT NULL;
```

**–ü–æ–ª–µ:**
- `free_delivery_threshold` - –ø–æ—Ä–æ–≥ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏ –≤ —Ä—É–±–ª—è—Ö
- –ï—Å–ª–∏ `NULL` ‚Üí –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∞

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã `orders`

```sql
ALTER TABLE orders
ADD COLUMN delivery_location_id INTEGER REFERENCES delivery_locations(id);

-- –ù–µ –¥–æ–±–∞–≤–ª—è–µ–º foreign key constraint —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ —É–¥–∞–ª—è—Ç—å –≥–æ—Ä–æ–¥–∞
```

**–ü–æ–ª–µ:**
- `delivery_location_id` - ID –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞ (nullable)
- –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –≥–æ—Ä–æ–¥–∞ –∏–∑ `delivery_locations` —ç—Ç–æ –ø–æ–ª–µ –æ—Å—Ç–∞–µ—Ç—Å—è –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏

---

## üîå Backend API

### Public API (–¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞)

#### `GET /api/delivery/locations`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –Ω–∞—Å–µ–ª–µ–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤ –¥–ª—è –≤—ã–±–æ—Ä–∞

**Response:**
```json
{
  "success": true,
  "data": [
    {
      "id": 1,
      "destination": "–ü—É—à–∫–∏–Ω–æ (—Ü–µ–Ω—Ç—Ä/–∞—Ä–º–∞–Ω–¥/–∑–∞–ø–∞–¥)",
      "price": 700
    },
    {
      "id": 2,
      "destination": "–ú—ã—Ç–∏—â–∏ (—Å—Ç–∞–Ω—Ü–∏—è)",
      "price": 1000
    }
  ]
}
```

**–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è:** –¢–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–∏ —Å `enabled = 1`
**–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:** –ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é (A-Z)

---

#### `GET /api/delivery/settings`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ (–ø–æ—Ä–æ–≥ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏)

**Response:**
```json
{
  "success": true,
  "data": {
    "freeDeliveryThreshold": 3000
  }
}
```

**–ï—Å–ª–∏ –Ω–µ –∑–∞–¥–∞–Ω–æ:**
```json
{
  "success": true,
  "data": {
    "freeDeliveryThreshold": null
  }
}
```

---

### Admin API

#### `GET /api/admin/delivery/locations`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –Ω–∞—Å–µ–ª–µ–Ω–Ω—ã–µ –ø—É–Ω–∫—Ç—ã (–≤–∫–ª—é—á–∞—è –æ—Ç–∫–ª—é—á–µ–Ω–Ω—ã–µ)

**Query params:**
- `search` - –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `page` - –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1)
- `limit` - –∑–∞–ø–∏—Å–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 50)

**Response:**
```json
{
  "success": true,
  "data": {
    "locations": [
      {
        "id": 1,
        "destination": "–ü—É—à–∫–∏–Ω–æ (—Ü–µ–Ω—Ç—Ä/–∞—Ä–º–∞–Ω–¥/–∑–∞–ø–∞–¥)",
        "price": 700,
        "enabled": true,
        "created_at": "2024-12-21T08:00:00.000Z",
        "updated_at": "2024-12-21T08:00:00.000Z"
      }
    ],
    "pagination": {
      "page": 1,
      "limit": 50,
      "total": 280,
      "pages": 6
    }
  }
}
```

---

#### `POST /api/admin/delivery/locations`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –Ω–∞—Å–µ–ª–µ–Ω–Ω—ã–π –ø—É–Ω–∫—Ç

**Request:**
```json
{
  "destination": "–•–∏–º–∫–∏",
  "price": 2000,
  "enabled": true
}
```

**Validation:**
- `destination` - required, min 2 chars, unique
- `price` - required, number, min 0
- `enabled` - optional, boolean, default true

**Response:**
```json
{
  "success": true,
  "data": {
    "id": 281,
    "destination": "–•–∏–º–∫–∏",
    "price": 2000,
    "enabled": true,
    "created_at": "2024-12-21T10:30:00.000Z",
    "updated_at": "2024-12-21T10:30:00.000Z"
  }
}
```

---

#### `PUT /api/admin/delivery/locations/:id`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å–µ–ª–µ–Ω–Ω—ã–π –ø—É–Ω–∫—Ç

**Request:**
```json
{
  "destination": "–•–∏–º–∫–∏ (—Ü–µ–Ω—Ç—Ä)",
  "price": 2200,
  "enabled": false
}
```

**Validation:** –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ POST

**Response:**
```json
{
  "success": true,
  "data": {
    "id": 281,
    "destination": "–•–∏–º–∫–∏ (—Ü–µ–Ω—Ç—Ä)",
    "price": 2200,
    "enabled": false,
    "updated_at": "2024-12-21T10:35:00.000Z"
  }
}
```

---

#### `DELETE /api/admin/delivery/locations/:id`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –£–¥–∞–ª–∏—Ç—å –Ω–∞—Å–µ–ª–µ–Ω–Ω—ã–π –ø—É–Ω–∫—Ç

**Response:**
```json
{
  "success": true,
  "message": "Location deleted successfully"
}
```

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- –ù–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å –µ—Å–ª–∏ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–∫–∞–∑—ã —Å —ç—Ç–∏–º –≥–æ—Ä–æ–¥–æ–º
- –í–æ–∑–≤—Ä–∞—â–∞—Ç—å 400 Bad Request —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º –æ–± –æ—à–∏–±–∫–µ

---

#### `GET /api/admin/delivery/settings`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ (–¥–ª—è –∞–¥–º–∏–Ω–∫–∏)

**Response:**
```json
{
  "success": true,
  "data": {
    "freeDeliveryThreshold": 3000
  }
}
```

---

#### `PUT /api/admin/delivery/settings`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ—Å—Ç–∞–≤–∫–∏

**Request:**
```json
{
  "freeDeliveryThreshold": 3500
}
```

**Validation:**
- `freeDeliveryThreshold` - optional, number, min 0 –∏–ª–∏ null

**Response:**
```json
{
  "success": true,
  "data": {
    "freeDeliveryThreshold": 3500
  }
}
```

---

## üì¶ –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ YAML

### –°–∫—Ä–∏–ø—Ç –∏–º–ø–æ—Ä—Ç–∞

**–§–∞–π–ª:** `/backend-expressjs/scripts/import-delivery-locations.ts`

```typescript
import fs from 'fs';
import yaml from 'js-yaml';
import { db } from '../src/db/client';
import { deliveryLocations } from '../src/db/schema';

async function importDeliveryLocations() {
  const yamlFile = '/mnt/c/dev/granat/–†–∞–π–æ–Ω—ã –¥–æ—Å—Ç–∞–≤–∫–∏/delivery-price.yml';
  const content = fs.readFileSync(yamlFile, 'utf8');
  const data = yaml.load(content) as Array<{
    destination: string;
    price_from_zelenogradskaya: number;
  }>;

  console.log(`Found ${data.length} locations in YAML`);

  for (const item of data) {
    await db.insert(deliveryLocations).values({
      destination: item.destination,
      price: item.price_from_zelenogradskaya,
      enabled: true
    }).onConflictDoNothing(); // Skip if already exists
  }

  console.log('Import completed successfully');
}

importDeliveryLocations();
```

**–ó–∞–ø—É—Å–∫:**
```bash
npm run import:delivery-locations
```

**package.json:**
```json
{
  "scripts": {
    "import:delivery-locations": "tsx scripts/import-delivery-locations.ts"
  }
}
```

---

## üß© –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### Autocomplete Select Component

**–§–∞–π–ª:** `/frontend-sveltekit/src/lib/components/ui/CityAutocomplete.svelte`

**Props:**
```typescript
interface Props {
  cities: Array<{ id: number; destination: string; price: number }>;
  selectedId: number | null;
  onSelect: (id: number) => void;
  placeholder?: string;
}
```

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- Dropdown —Å–ø–∏—Å–æ–∫ –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø—Ä–∏ –≤–≤–æ–¥–µ (—Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π –ø–æ–∏—Å–∫)
- –ö–ª–∞–≤–∏–∞—Ç—É—Ä–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è (—Å—Ç—Ä–µ–ª–∫–∏ –≤–≤–µ—Ä—Ö/–≤–Ω–∏–∑, Enter)
- Highlight —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π
- –ú–æ–±–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```svelte
<CityAutocomplete
  cities={availableCities}
  selectedId={selectedCityId}
  onSelect={handleCitySelect}
  placeholder="–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞..."
/>
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°—Ü–µ–Ω–∞—Ä–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:

1. **–í—ã–±–æ—Ä –≥–æ—Ä–æ–¥–∞ —Å –ø–ª–∞—Ç–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–æ–π:**
   - –í—ã–±—Ä–∞—Ç—å "–ü—É—à–∫–∏–Ω–æ (—Ü–µ–Ω—Ç—Ä)" (700‚ÇΩ)
   - –°—É–º–º–∞ –∑–∞–∫–∞–∑–∞: 1500‚ÇΩ
   - –ü–æ—Ä–æ–≥ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏: 3000‚ÇΩ
   - –û–∂–∏–¥–∞–µ–º–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞: 700‚ÇΩ
   - –ò—Ç–æ–≥–æ: 2200‚ÇΩ

2. **–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ø–æ—Ä–æ–≥–∞:**
   - –í—ã–±—Ä–∞—Ç—å "–ú—ã—Ç–∏—â–∏ (—Å—Ç–∞–Ω—Ü–∏—è)" (1000‚ÇΩ)
   - –°—É–º–º–∞ –∑–∞–∫–∞–∑–∞: 3500‚ÇΩ
   - –ü–æ—Ä–æ–≥: 3000‚ÇΩ
   - –û–∂–∏–¥–∞–µ–º–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞: 0‚ÇΩ (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
   - –ò—Ç–æ–≥–æ: 3500‚ÇΩ

3. **–û—Ç–∫–ª—é—á–µ–Ω–Ω—ã–π –≥–æ—Ä–æ–¥ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è:**
   - –û—Ç–∫–ª—é—á–∏—Ç—å "–•–∏–º–∫–∏" –≤ –∞–¥–º–∏–Ω–∫–µ
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –µ–≥–æ –Ω–µ—Ç –≤ —Å–ø–∏—Å–∫–µ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ
   - –í–∫–ª—é—á–∏—Ç—å –æ–±—Ä–∞—Ç–Ω–æ ‚Üí –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è

4. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –≥–æ—Ä–æ–¥–∞:**
   - –î–æ–±–∞–≤–∏—Ç—å "–¢–µ—Å—Ç–æ–≤—ã–π –≥–æ—Ä–æ–¥" —Å —Ü–µ–Ω–æ–π 500‚ÇΩ
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø–æ—è–≤–∏–ª—Å—è –≤ —Å–ø–∏—Å–∫–µ
   - –í—ã–±—Ä–∞—Ç—å –≤ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞—Å—á–µ—Ç–∞

5. **–ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä–æ–≥–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏:**
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ—Ä–æ–≥ 2000‚ÇΩ
   - –ó–∞–∫–∞–∑ –Ω–∞ 2500‚ÇΩ ‚Üí –¥–æ—Å—Ç–∞–≤–∫–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–∞
   - –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä–æ–≥ –Ω–∞ 3000‚ÇΩ
   - –ó–∞–∫–∞–∑ –Ω–∞ 2500‚ÇΩ ‚Üí –¥–æ—Å—Ç–∞–≤–∫–∞ –ø–ª–∞—Ç–Ω–∞—è

6. **–ü–æ–∏—Å–∫ –≤ autocomplete:**
   - –í–≤–µ—Å—Ç–∏ "–ü—É—à–∫" ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –≥–æ—Ä–æ–¥–∞ —Å "–ü—É—à–∫" –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏
   - –í–≤–µ—Å—Ç–∏ "–°–ù–¢" ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –°–ù–¢
   - –í–≤–µ—Å—Ç–∏ —Ü–∏—Ñ—Ä—ã "150" ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å –≥–æ—Ä–æ–¥–∞ —Å —Ü–µ–Ω–æ–π 150‚ÇΩ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## üìù –ß–µ–∫–ª–∏—Å—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –º–∏–≥—Ä–∞—Ü–∏—è
- [ ] –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É `delivery_locations`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `free_delivery_threshold` –≤ `shop_settings`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `delivery_location_id` –≤ `orders`
- [ ] –°–æ–∑–¥–∞—Ç—å Drizzle ORM —Å—Ö–µ–º—ã
- [ ] –ù–∞–ø–∏—Å–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –∏–º–ø–æ—Ä—Ç–∞ –∏–∑ YAML
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏–º–ø–æ—Ä—Ç, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–Ω–Ω—ã–µ

### –≠—Ç–∞–ø 2: Backend API
- [ ] `GET /api/delivery/locations` - –ø—É–±–ª–∏—á–Ω—ã–π —Å–ø–∏—Å–æ–∫
- [ ] `GET /api/delivery/settings` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ—Å—Ç–∞–≤–∫–∏
- [ ] `GET /api/admin/delivery/locations` - –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–ª—è –∞–¥–º–∏–Ω–∞
- [ ] `POST /api/admin/delivery/locations` - –¥–æ–±–∞–≤–∏—Ç—å –≥–æ—Ä–æ–¥
- [ ] `PUT /api/admin/delivery/locations/:id` - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
- [ ] `DELETE /api/admin/delivery/locations/:id` - —É–¥–∞–ª–∏—Ç—å
- [ ] `GET /api/admin/delivery/settings` - –ø–æ–ª—É—á–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- [ ] `PUT /api/admin/delivery/settings` - –æ–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö endpoint'–æ–≤
- [ ] –¢–µ—Å—Ç—ã API (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –≠—Ç–∞–ø 3: Autocomplete –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- [ ] –°–æ–∑–¥–∞—Ç—å `CityAutocomplete.svelte`
- [ ] Dropdown —Å –ø–æ–∏—Å–∫–æ–º
- [ ] –ö–ª–∞–≤–∏–∞—Ç—É—Ä–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- [ ] –°—Ç–∏–ª–∏ (–¥–µ—Å–∫—Ç–æ–ø + –º–æ–±–∏–ª—å–Ω—ã–π)
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

### –≠—Ç–∞–ø 4: Frontend - –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å `CityAutocomplete` –≤ checkout
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –≥–æ—Ä–æ–¥–æ–≤ –∏–∑ API
- [ ] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ –ø–æ–¥ –≤—ã–±–æ—Ä–æ–º –≥–æ—Ä–æ–¥–∞
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ —Ä–∞—Å—á–µ—Ç–∞ `deliveryCost()`
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ summary —Å–µ–∫—Ü–∏–∏
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è: –≥–æ—Ä–æ–¥ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –ø—Ä–∏ –¥–æ—Å—Ç–∞–≤–∫–µ
- [ ] –û—Ç–ø—Ä–∞–≤–∫–∞ `delivery_location_id` –≤ –∑–∞–∫–∞–∑–µ
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### –≠—Ç–∞–ø 5: Admin - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–æ—Å—Ç–∞–≤–∫–∏
- [ ] –°–æ–∑–¥–∞—Ç—å `/admin/delivery/+page.svelte`
- [ ] –ë–ª–æ–∫ –Ω–∞—Å—Ç—Ä–æ–µ–∫ (–ø–æ—Ä–æ–≥ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏)
- [ ] –¢–∞–±–ª–∏—Ü–∞ –≥–æ—Ä–æ–¥–æ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- [ ] –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- [ ] Toggle –≤–∫–ª/–≤—ã–∫–ª –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≥–æ—Ä–æ–¥–∞
- [ ] –ú–æ–¥–∞–ª–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≥–æ—Ä–æ–¥–∞
- [ ] –ú–æ–¥–∞–ª–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≥–æ—Ä–æ–¥–∞
- [ ] –ú–æ–¥–∞–ª–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —É–¥–∞–ª–µ–Ω–∏—è
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- [ ] Loading states

### –≠—Ç–∞–ø 6: Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏ –≤ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –Ω–æ–≤–æ–º –∑–∞–∫–∞–∑–µ
- [ ] –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ" –µ—Å–ª–∏ –¥–æ—Å—Ç–∞–≤–∫–∞ 0‚ÇΩ
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –≠—Ç–∞–ø 7: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –±–∞–≥-—Ñ–∏–∫—Å—ã
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏–∑ —Å–ø–∏—Å–∫–∞ –≤—ã—à–µ
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (280 –≥–æ—Ä–æ–¥–æ–≤ –≤ dropdown)
- [ ] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –±–∞–≥–æ–≤
- [ ] Code review
- [ ] –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –≠—Ç–∞–ø 8: Deployment
- [ ] Commit –≤ GitHub
- [ ] Push –≤ dev
- [ ] Deploy –Ω–∞ dev —Å–µ—Ä–≤–µ—Ä
- [ ] Smoke testing –Ω–∞ dev
- [ ] Merge –≤ main
- [ ] Deploy –Ω–∞ production
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

---

## üöÄ –û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏

| –≠—Ç–∞–ø | –ó–∞–¥–∞—á–∏ | –í—Ä–µ–º—è |
|------|--------|-------|
| 1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | –°—Ö–µ–º—ã, –º–∏–≥—Ä–∞—Ü–∏—è, –∏–º–ø–æ—Ä—Ç | 1-2 —á–∞—Å–∞ |
| 2. Backend API | 8 endpoints + –≤–∞–ª–∏–¥–∞—Ü–∏—è | 3-4 —á–∞—Å–∞ |
| 3. Autocomplete | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å –ø–æ–∏—Å–∫–æ–º | 2-3 —á–∞—Å–∞ |
| 4. Frontend Checkout | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è, –ª–æ–≥–∏–∫–∞ | 2-3 —á–∞—Å–∞ |
| 5. Admin UI | –°—Ç—Ä–∞–Ω–∏—Ü–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è | 4-5 —á–∞—Å–æ–≤ |
| 6. Telegram | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π | 30 –º–∏–Ω |
| 7. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | –í—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ | 2-3 —á–∞—Å–∞ |
| 8. Deployment | –î–µ–ø–ª–æ–π + –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ | 1 —á–∞—Å |
| **–ò–¢–û–ì–û** | | **16-22 —á–∞—Å–∞** |

---

## üìå –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

1. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å autocomplete:**
   - 280 –≥–æ—Ä–æ–¥–æ–≤ - —ç—Ç–æ –ø—Ä–∏–µ–º–ª–µ–º–æ –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞
   - –ï—Å–ª–∏ –±—É–¥–µ—Ç —Ç–æ—Ä–º–æ–∑–∏—Ç—å ‚Üí –¥–æ–±–∞–≤–∏—Ç—å virtual scrolling
   - –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å debounce –¥–ª—è –ø–æ–∏—Å–∫–∞ (300ms)

2. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:**
   - –°—Ç–∞—Ä—ã–µ –∑–∞–∫–∞–∑—ã –±–µ–∑ `delivery_location_id` –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∫–∞–∫ "–ù–µ —É–∫–∞–∑–∞–Ω"
   - –í –æ—Ç—á–µ—Ç–∞—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ –Ω–∞–ª–∏—á–∏—é –≥–æ—Ä–æ–¥–∞

3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
   - Admin endpoints –∑–∞—â–∏—â–µ–Ω—ã auth middleware
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
   - SQL injection –∑–∞—â–∏—Ç–∞ —á–µ—Ä–µ–∑ Drizzle ORM

4. **UX —É–ª—É—á—à–µ–Ω–∏—è:**
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –≥–æ—Ä–æ–¥–∞ –ø–µ—Ä–≤—ã–º–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - –î–æ–±–∞–≤–∏—Ç—å –∏–∫–æ–Ω–∫–∏ üìç —Ä—è–¥–æ–º —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏
   - –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –ø–µ—Ä–≤–æ–π –±—É–∫–≤–µ (A-Z, –°–ù–¢ –æ—Ç–¥–µ–ª—å–Ω–æ)

5. **–ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è:**
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≥–µ–æ–ª–æ–∫–∞—Ü–∏–µ–π (–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –≥–æ—Ä–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
   - –ò—Å—Ç–æ—Ä–∏—è –≤—ã–±–æ—Ä–∞ –≥–æ—Ä–æ–¥–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º (—á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ)
   - –ö–∞—Ä—Ç–∞ –∑–æ–Ω –¥–æ—Å—Ç–∞–≤–∫–∏
   - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–µ–Ω –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤—Ä–µ–º–µ–Ω–∏ —Å—É—Ç–æ–∫

---

**–ì–æ—Ç–æ–≤–æ –∫ –Ω–∞—á–∞–ª—É —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏! üöÄ**
